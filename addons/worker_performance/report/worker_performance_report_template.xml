<template id="report_template">
    <t t-call="web.external_layout">
        <h2>Performance Evaluations (Last 30 Days)</h2>
        <table class="table table-sm">
            <tr>
                <th>Employee</th>
                <th>Date</th>
                <th>Score</th>
                <th>Bonus</th>
            </tr>
            <t t-set="total" t-value="0"/>
            <t t-foreach="docs.filtered(lambda d: d.date >= (date.today() - timedelta(days=30)))" t-as="rec">
                <tr>
                    <td><t t-esc="rec.worker_id.name"/></td>
                    <td><t t-esc="rec.date"/></td>
                    <td><t t-esc="rec.score"/></td>
                    <td><t t-esc="rec.performance_amount"/></td>
                </tr>
                <t t-set="total" t-value="total + rec.performance_amount"/>
            </t>
        </table>
        <h4>Total Bonus: <t t-esc="total"/></h4>
    </t>
</template>
